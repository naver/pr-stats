(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{4939:function(e,t,r){Promise.resolve().then(r.bind(r,4480))},4480:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return M}});var l=r(3827),n=r(4090);let a=(e,t)=>{let r=e.length,l=0,n=0,a=0,i=0,o=0;for(let u=0;u<r;u++)l+=e[u],n+=t[u],a+=e[u]*t[u],i+=e[u]*e[u],o+=t[u]*t[u];let u=a-l*n/r,s=Math.sqrt((i-l*l/r)*(o-n*n/r));return 0===s?0:u/s},i=e=>{let t=Object.keys(e[0]);return t.reduce((r,l)=>{let n=e.map(e=>e[l]);return r[l]=t.reduce((t,r)=>{let l=e.map(e=>e[r]);return t[r]=a(n,l),t},{}),r},{})},o=e=>{let t=e.toSorted((e,t)=>e-t),r=Math.floor(t.length/2);return t.length%2!=0?t[r]:(t[r-1]+t[r])/2};var u=r(4958),s=r(8896),c=r(4465),f=r(3183);let p=e=>Object.entries(e).flatMap(e=>{let[t,r]=e;return[{x:t,y:t,correlation:1},...Object.entries(r).map(e=>{let[r,l]=e;return{x:t,y:r,correlation:l}})]});var d=r(6491),h=r.n(d);let m=e=>e.map(e=>Object.fromEntries(Object.entries(e).map(e=>{let[t,r]=e;return[t,"string"!=typeof r||isNaN(parseFloat(r))?r:parseFloat(r)]}))),x=e=>new Promise((t,r)=>{h().parse(e,{complete:e=>{if(!e.data.length){r(Error("The CSV file is empty."));return}let[l,...n]=e.data;if(!l||0===n.length){r(Error("The CSV file does not contain valid headers or data."));return}t(m(n.map(e=>l.reduce((t,r,l)=>(t[r]=e[l],t),{}))))},error:e=>{r(e)},skipEmptyLines:!0})}),g=e=>{if(!e.length)return[];let t=Object.keys(e[0]).filter(t=>e.every(e=>"string"==typeof e[t]));return e.map(e=>{let r={...e};for(let e of t)delete r[e];return r})};function y(e){let{data:t}=e,r=function(e){let t=(0,n.useRef)(null);return(0,n.useEffect)(()=>{let r=p(e),l=u.g({marginLeft:100,height:700,label:null,marginBottom:200,x:{tickRotate:-90},color:{scheme:"BuRd",pivot:o(r.map(e=>{let{correlation:t}=e;return t})),legend:!0,label:"correlation"},marks:[s.o4(r,{x:"x",y:"y",fill:"correlation"}),c.fL(r,{x:"x",y:"y",text:e=>e.correlation.toFixed(2),fill:e=>Math.abs(e.correlation)>.6?"white":"black"}),f.uG(r,{x:"x",y:"y",ruleStrokeWidth:50,color:"blue"})]}),n=t.current;return n.append(l),()=>{n.removeChild(l)}},[e]),t}(i(g(t)));return(0,l.jsx)("div",{ref:r})}var b=r(4011);let j=e=>Math.floor(e/36e5),v=(e,t)=>e.map(e=>({[t.x]:e[t.x],[t.y]:e[t.y]}));function k(e){let{data:t,label:r}=e,a=function(e,t){let r=(0,n.useRef)(null),l=v(e,t);return(0,n.useEffect)(()=>{let e=u.g({marginLeft:50,inset:50,color:{scheme:"YlGnBu"},x:{tickFormat:j},marks:[b.h(l,{x:t.x,y:t.y,bandwidth:40,thresholds:20,fill:"density",clip:!0})]}),n=r.current;return n.append(e),()=>{n.removeChild(e)}},[l,t]),r}(g(t),r);return(0,l.jsx)("div",{ref:a})}var C=r(9620);let E=(e,t)=>e.map(e=>({[t.x]:e[t.x],[t.y]:e[t.y]}));function R(e){let{data:t,label:r}=e,a=function(e,t){let r=(0,n.useRef)(null),l=E(e,t);return(0,n.useEffect)(()=>{let e=u.g({grid:!0,marginLeft:50,inset:50,color:{scheme:"YlOrBr"},x:{tickFormat:j,line:!0},y:{line:!0},marks:[C.AK(l,{x:t.x,y:t.y,clip:!0,symbol:"times"})]}),n=r.current;return n.append(e),()=>{n.removeChild(e)}},[l,t]),r}(g(t),r);return(0,l.jsx)("div",{ref:a})}let O=["pr","prList","user"];function F(e){let{name:t,onUpload:r}=e,a=(0,n.useCallback)(e=>{r(t,e.target.files[0])},[r,t]);return(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{htmlFor:t,children:[t," file"]}),(0,l.jsx)("input",{id:t,type:"file",onChange:a})]})}let L={x:"averageResponseTime",y:"participationRate"},w={x:"timeFromReviewToMerge",y:"averageResponseTime"};function M(){let[e,t]=(0,n.useState)({pr:[],prList:[],user:[]}),r=(0,n.useCallback)((e,r)=>{x(r).then(r=>{t(t=>({...t,[e]:r}))})},[]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("h1",{children:"Hello CRC!"}),O.map(e=>(0,l.jsx)(F,{name:e,onUpload:r},e)),e.pr.length?(0,l.jsx)(y,{data:e.pr}):null,e.pr.length?(0,l.jsx)(R,{data:e.pr,label:w}):null,e.user.length?(0,l.jsx)(k,{data:e.user,label:L}):null,e.user.length?(0,l.jsx)(R,{data:e.user,label:L}):null]})}}},function(e){e.O(0,[317,971,69,744],function(){return e(e.s=4939)}),_N_E=e.O()}]);